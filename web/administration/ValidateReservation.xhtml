<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Valider les propriétés</title>
        <link href="../resources/css/default.css" rel="stylesheet" type="text/css" />
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"/>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"/>
    </h:head>
    <h:body style="background-image: url(http://silviahartmann.com/background-tile-art/images/grey-repeating-background-5.jpg);
            background-repeat: repeat;">
        <f:metadata>
            <f:viewAction action="#{utilisateurController.checkLogin()}" />
        </f:metadata>
        <ui:include src="/profile/menu.xhtml" />
        <div class="container mt-5">
            <h:form>
                <table class="table table-dark">
                    <tr>
                        <td>Date Reservation</td>
                        <td>Date debut</td>
                        <td>Date fin</td>
                        <td>etat</td>
                        <td>prix total</td>
                        <td>Operations</td>
                    </tr>
                    <ui:repeat value="#{reservationController.NVR}" var="reservation" id='table'>
                        <tr>
                            <td>#{reservationController.formatDate(reservation.dateReservation)}</td>
                            <td>#{reservationController.formatDate(reservation.dateDebut)}</td>
                            <td>#{reservationController.formatDate(reservation.dateFin)}</td>
                            <td>#{reservation.etatReservation}</td>
                            <td>#{reservation.prixTotal}</td>
                            <td>
                                <!--<a href="#" style="text-decoration: none;" ajax='true' type='button' update='table' actionListener=''><i class="fas fa-check"></i> Valider</a>-->
                                <p:commandButton action='#{reservationController.valider(reservation)}' class='btn btn-sm btn-success' value='valider' />
                            </td>
                        </tr>
                    </ui:repeat>
                </table>
            </h:form>
        </div>
    </h:body>
</html>

